generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model User {
  id    Int     @id @default(autoincrement())
  email String  @unique
  password String
  name  String?
  compute String?
  cart String?
  sessions RefreshSession[]
}

model RefreshSession {
  id String @id @default(uuid())  
  userEmail String @unique
  sessionId String @unique
  refreshHash String?
  expiresAt DateTime?
  revokedAt DateTime?

  user User @relation(fields: [userEmail], references: [email], onDelete: Cascade)

}

model Cart {
  id    Int     @id @default(autoincrement())
  user_id Int
}

model Compute {
  id    Int     @id @default(autoincrement())
  user_id Int
}